<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raccoon's Rewards</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0a192f;
            --card-bg: rgba(255, 255, 255, 0.08);
            --border-color: rgba(255, 255, 255, 0.2);
            --text-color: #e6f1ff;
            --highlight-color: #64ffda;
            --shadow-color: rgba(10, 25, 47, 0.7);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-y: auto;
            min-height: 100vh;
        }

        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .background-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, rgba(10, 25, 47, 0.6) 0%, rgba(10, 25, 47, 1) 80%);
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            opacity: 0.2;
            animation: float 20s infinite ease-in-out;
            pointer-events: none;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }

        .floating-element.feather {
            background-image: url('https://wmnruleoverraccoons.github.io/RaccoonRewards/feather_image_png_transparent.png');
        }
        
        .raccoon-icon {
             filter: drop-shadow(0 4px 6px rgba(0,0,0,0.4));
        }

        @keyframes float {
            0% { transform: translateY(0px) translateX(0px) rotate(0deg) scale(1); opacity: 0.2; }
            25% { transform: translateY(-40px) translateX(30px) rotate(90deg) scale(1.1); opacity: 0.3; }
            50% { transform: translateY(-20px) translateX(-20px) rotate(180deg) scale(1); opacity: 0.25;}
            75% { transform: translateY(20px) translateX(40px) rotate(270deg) scale(0.9); opacity: 0.3; }
            100% { transform: translateY(0px) translateX(0px) rotate(360deg) scale(1); opacity: 0.2; }
        }

        .floating-element.fast {
            animation-name: float-fast;
            animation-duration: 12s;
            opacity: 0.35;
        }

        @keyframes float-fast {
            0% { transform: translateY(10vh) translateX(-10vw) rotate(0deg); }
            50% { transform: translateY(-110vh) translateX(20vw) rotate(720deg); }
            51% { opacity: 0; transform: translateY(10vh) translateX(-10vw) rotate(0deg); }
            52% { opacity: 0.35; }
            100% { transform: translateY(10vh) translateX(-10vw) rotate(0deg); }
        }

        .card-container {
            perspective: 1000px;
            width: 170px;
            height: 240px;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            cursor: pointer;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px 0 var(--shadow-color);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--text-color);
            flex-direction: column;
            overflow-wrap: break-word;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        @keyframes rgb-border-glow {
            0%   { border-color: #ff4d4d; box-shadow: 0 0 12px #ff4d4d, 0 8px 32px 0 var(--shadow-color); }
            50%  { border-color: #4d4dff; box-shadow: 0 0 12px #4d4dff, 0 8px 32px 0 var(--shadow-color); }
            100% { border-color: #ff4d4d; box-shadow: 0 0 12px #ff4d4d, 0 8px 32px 0 var(--shadow-color); }
        }

        .card-container:hover .card:not(.unlocked) .card-face {
            animation: rgb-border-glow 2s infinite linear;
        }


        .card-face--front {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .card-face--back {
            transform: rotateY(180deg);
        }
        
        .card-description {
            font-style: italic;
            margin-bottom: 15px;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .card-face--back.unlocked {
             font-family: 'Playfair Display', serif;
             font-size: 1.2rem;
        }
        
        .password-input {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            padding: 5px;
            text-align: center;
            color: var(--text-color);
            margin-top: 10px;
            width: 80%;
            transition: border-color 0.3s;
        }

        /* Shake-Animation für falsches Passwort */
        @keyframes shake {
          10%, 90% { transform: translate3d(-1px, 0, 0); }
          20%, 80% { transform: translate3d(2px, 0, 0); }
          30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
          40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .password-input.shake {
          animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 25, 47, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .modal.show .modal-content {
            transform: scale(1);
        }

        .unlock-prompt {
            font-size: 0.8rem; /* <-- Ändere diesen Wert, wie du magst */
            margin: 0;
        }

        @media (max-width: 640px) {
    /* Kleinere Karten */
    .card-container {
        width: 100px;
        height: 150px;
    }
    
    #card-grid {
        gap: 0.5rem; /* Kleinere Abstände zwischen den Karten */
    }

    /* Kleinere Schrift auf den Karten */
    .card-face {
        padding: 10px;
    }

    .card-face--front {
        font-size: 0.9rem; /* Kleinere Schrift für den Kartentitel */
    }

    .card-description {
        font-size: 0.7rem;
        margin-bottom: 8px;
    }

    .unlock-prompt {
        font-size: 0.65rem;
    }

    .password-input {
        margin-top: 5px;
        padding: 3px;
        font-size: 0.75rem;
    }
    
    .card-face--back.unlocked h3 {
        font-size: 0.9rem;
    }
     .card-face--back.unlocked p {
        font-size: 0.75rem;
    }

    /* Kleinere Überschriften und Icon */
    .raccoon-icon {
        width: 2.5rem; /* 40px */
        height: 2.5rem; /* 40px */
    }

    h1 {
        font-size: 1.875rem; /* text-3xl */
    }

    .text-lg {
        font-size: 1rem; /* text-base */
    }
}
    </style>
</head>
<body class="p-4 sm:p-8">
    <div id="background-container" class="background-container"></div>
    
    <main class="text-center">
        <div class="flex justify-center items-center gap-4 mb-4">
             <img src="https://wmnruleoverraccoons.github.io/RaccoonRewards/raccoon_image_png_transparent.png" alt="Raccoon Symbol" class="w-16 h-16 raccoon-icon">
            <h1 class="text-4xl sm:text-5xl font-bold" style="font-family: 'Playfair Display', serif;">Fun Times for my Raccoon</h1>
        </div>
        <p class="text-lg sm:text-xl mb-6 max-w-2xl mx-auto">Play a game with me</p>
        
        <button id="reset-button" class="bg-red-300 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-lg mb-10 transition-colors duration-300">Reset all data</button>

        <div class="grid grid-cols-3 sm:grid-cols-5 gap-4 sm:gap-6 justify-items-center" id="card-grid">
            <!-- Cards will be injected here by JavaScript -->
        </div>
    </main>

    <!-- Modal for Reward -->
    <div id="reward-modal" class="modal">
        <div class="modal-content">
            <h2 id="reward-title" class="text-3xl font-bold mb-4" style="font-family: 'Playfair Display', serif;"></h2>
            <p id="reward-message" class="text-lg mb-6"></p>
            <button id="close-modal" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Got it, Miss</button>
        </div>
    </div>
    
    <!-- Modal for Confirmation -->
    <div id="confirm-modal" class="modal">
        <div class="modal-content">
            <h2 id="confirm-title" class="text-2xl font-bold mb-4" style="font-family: 'Playfair Display', serif;">Reset?</h2>
            <p id="confirm-message" class="text-lg mb-6">Are you sure you really want to delete all progress, my beautiful boy? This cannot be undone.</p>
            <div class="flex justify-center gap-4">
                <button id="confirm-yes" class="bg-red-600 hover:bg-red-800 text-white font-bold py-2 px-4 rounded-lg transition-colors">Yes, reset, Miss!</button>
                <button id="confirm-no" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">Nevermind...</button>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- KONFIGURATION ---
            // Lege hier den Schlüssel für die Master-Belohnung fest.
            // Er muss mit dem Schlüssel im "rewards"-Objekt unten übereinstimmen.
            const masterRewardKey = 'master';

            const cardsData = [
                // Reihe 1
                { title: "Raccoon Rede", password: "rede500", description: "Schrijf een essay van 500 woorden over waarom „Raccoon“ jouw perfecte bijnaam is." },
                { title: "Shiny Thief", password: "verybadboy", description: "Send me a photo with something shiny you 'stole for Miss'." },
                { title: "Treasure Essay", password: "trreasure", description: "Write 200 words why you think I’m proud of your body." },
                { title: "Cheeky Raccoon", password: "howdareu", description: "Record the 5 most bratty, cheeky lines you could ever dare to say to me. I want to hear the grin in your voice." },
                { title: "Body Arrows", password: "cupidsarrow", description: "Photo of your body, draw arrows → write what each part means for me." },
                // Reihe 2
                { title: "Miss’ Avond", password: "avondMiss", description: "Maak een audio over hoe jij je een avond bij jou thuis voor ons tweeën ziet. Als die avond komt, wil ik hem precies zo beleven." },
                { title: "Bold Raccoon", password: "beingbold", description: "Send me one selfie where you look like you’re seconds away from talking back to me — with the caption: “Say please.”" },
                { title: "Voice Token", password: "voice", description: "Audio (1 min), whisper what you like about our connection." },
                { title: "Audio Smirk", password: "grinning", description: "Record a 30-second audio where every word drips with cheekiness — as if you’re daring me to punish you." },
                { title: "Obedience Day", password: "day-24", description: "24 hours of no discussion, only obedience." },
                 // Reihe 3
                { title: "Lichaamsboek", password: "boek7", description: "Hou een week lang een dagboek bij (minstens 150 woorden per dag) over hoe je lichaam aanvoelt." },
                { title: "Ticklish Truth", password: "tick-truth", description: "Tickle yourself at a sensitive spot, spend 5 minutes teasing yourself there. Write 5 honest sentences about how it felt." },
                { title: "Forbidden Text", password: "dontknowifthatwassosmart", description: "Send me one forbidden brat-line you’d never dare say in real life. Accept the consequences." },
                { title: "Good Night Token", password: "gnight", description: "Send me a 3-sentence ritual every night for one week." },
                { title: "Feather List", password: "ILoveTickling", description: "Write me 13 possible items from your household that I could use to tickle you senseless." },
                // Reihe 4
                { title: "Eigenaar Essay", password: "eigendom", description: "Schrijf een essay van 800 woorden in het Nederlands over waarom je lichaam begeerlijk is, maar volledig van mij is." },
                { title: "Temple Keeper", password: "temple", description: "Audio: why your body is a temple I manage." },
                { title: "Silent Edge", password: "dontbeg", description: "Endure an entire Edging-Session without begging to cum." },
                { title: "Mirror Kneel", password: "kneel", description: "Take a mirror photo on your knees, hands behind your back." },
                { title: "Calm Mind", password: "calm", description: "5 minutes of meditation for 3 days, then an audio reflecting if your thinking changed." },
                // Reihe 5
                { title: "Cheeky Boy Streak", password: "gb-3", description: "Surprise me 3 days in a row with your cheekyness." },
                { title: "Edge Survivor", password: "edge-x3", description: "3 edging rounds (5 min each) without finishing." },
                { title: "Bratty Sub", password: "bratboy", description: "Explain to me in an audio why you being bratty is essential for our dynamic." },
                { title: "Kietel Bekentenis", password: "kietel300", description: "Schrijf minstens 300 woorden over waarom kietelen voor jou perfect is." },
                { title: "Ritual Plan", password: "ritual", description: "Write a personal ritual for how you’d want a chastity release." },
            ];

            const rewards = {
                // Horizontale Reihen
                row0: { title: "Horizontal Award 1", message: "An audio where I whisper something that turns you on or makes you melt, just tell me what that would be."},
                row1: { title: "Second Wave", message: "A reward where you can choose exactly what I say to you in a Good Night audio."  },
                row2: { title: "Good Boy", message: "A two-minute audio filled only with pure praise for you."},
                row3: { title: "Orgasm-Pass", message: "A free pass for one orgasm."},
                row4: { title: "Your call", message: "30 minutes of free masturbation in a video call with me."},

                // Vertikale Reihen
                col0: { title: "Free choice", message: "One action of your choice when we meet in person."},
                col1: { title: "Miss Writes", message: "I will write a story about a raccoon who sweeps his Miss off her feet."},
                col2: { title: "Miss can't draw, but will, for her raccoon", message: "I will draw a raccoon picture just for you."},
                col3: { title: "Show-off", message: "You may request a photo of me — anything you want."},
                col4: { title: "Making the raccoon horny", message: "I will write you a personal, erotic fantasy tailored just for you."},
                // Diagonale Reihen
                diag0: { title: "Dominance", message: "You will receive a password of your choice for the game."},
                diag1: { title: "C-U-M", message: "You may cum in your Miss's mouth."},
                // Master Belohnung - Stelle sicher, dass dieser Schlüssel mit 'masterRewardKey' oben übereinstimmt
                master: { title: "Done", message: "My raccoon actually did it! Such a very good boy. You will receive your first collar from me." }
            };

            const unlockedState = Array(cardsData.length).fill(false);
            const shownRewards = new Set();

            function saveState() {
                localStorage.setItem('racoonGameState', JSON.stringify({
                    unlocked: unlockedState,
                    rewards: Array.from(shownRewards)
                }));
            }

            function loadState() {
                const savedState = localStorage.getItem('racoonGameState');
                if (savedState) {
                    const parsedState = JSON.parse(savedState);
                    unlockedState.forEach((_, i) => unlockedState[i] = parsedState.unlocked[i]);
                    parsedState.rewards.forEach(rewardKey => shownRewards.add(rewardKey));
                }
            }


            function createCard(cardData, index) {
                const cardContainer = document.createElement('div');
                cardContainer.className = 'card-container';

                const card = document.createElement('div');
                card.className = 'card';

                const frontFace = document.createElement('div');
                frontFace.className = 'card-face card-face--front';
                frontFace.textContent = cardData.title;

                const backFace = document.createElement('div');
                backFace.className = 'card-face card-face--back';
                
                const descriptionText = document.createElement('p');
                descriptionText.textContent = cardData.description;
                descriptionText.className = 'card-description';
                
                const unlockText = document.createElement('p');
                unlockText.textContent = 'Enter Passsword:';
                unlockText.className = 'unlock-prompt'; 

                const passwordInput = document.createElement('input');
                passwordInput.type = 'password';
                passwordInput.className = 'password-input';
                passwordInput.addEventListener('click', (e) => e.stopPropagation());
                passwordInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        if (passwordInput.disabled) return;

                        if (passwordInput.value.toLowerCase() === cardData.password.toLowerCase()) {
                            unlockCard(card, backFace, cardData.title);
                            unlockedState[index] = true;
                            saveState();
                            checkForWin();
                        } else {
                            passwordInput.disabled = true; 
                            passwordInput.classList.add('shake');
                            passwordInput.style.borderColor = 'red';
                            passwordInput.value = '';
                            passwordInput.placeholder = '🔁Raccoon!';

                            setTimeout(() => {
                                passwordInput.style.borderColor = 'var(--border-color)';
                                passwordInput.classList.remove('shake');
                                passwordInput.placeholder = '';
                                passwordInput.disabled = false;
                                passwordInput.focus();
                            }, 1000);
                        }
                    }
                });

                backFace.appendChild(descriptionText);
                backFace.appendChild(unlockText);
                backFace.appendChild(passwordInput);

                card.appendChild(frontFace);
                card.appendChild(backFace);
                cardContainer.appendChild(card);
                
                card.addEventListener('click', () => {
                    if (!card.classList.contains('unlocked')) {
                        card.classList.toggle('flipped');
                    }
                });

                return cardContainer;
            }

            function unlockCard(card, backFace, title) {
                card.classList.add('unlocked');
                if (!card.classList.contains('flipped')) {
                     card.classList.add('flipped');
                }
                backFace.innerHTML = '';
                const unlockedTitle = document.createElement('h3');
                unlockedTitle.className = "text-xl font-bold";
                unlockedTitle.textContent = title;
                
                const unlockedText = document.createElement('p');
                unlockedText.textContent = '🔓';
                unlockedText.className = 'mt-2';
                
                backFace.appendChild(unlockedTitle);
                backFace.appendChild(unlockedText);
                backFace.classList.add('unlocked');
            }

            function checkForWin() {
                let regularWinShown = false;
                const winConditions = [
                    // Horizontale
                    { combo: [0, 1, 2, 3, 4], key: 'row0' }, { combo: [5, 6, 7, 8, 9], key: 'row1' }, { combo: [10, 11, 12, 13, 14], key: 'row2' }, { combo: [15, 16, 17, 18, 19], key: 'row3' }, { combo: [20, 21, 22, 23, 24], key: 'row4' },
                    // Vertikale
                    { combo: [0, 5, 10, 15, 20], key: 'col0' }, { combo: [1, 6, 11, 16, 21], key: 'col1' }, { combo: [2, 7, 12, 17, 22], key: 'col2' }, { combo: [3, 8, 13, 18, 23], key: 'col3' }, { combo: [4, 9, 14, 19, 24], key: 'col4' },
                    // Diagonale
                    { combo: [0, 6, 12, 18, 24], key: 'diag0' }, { combo: [4, 8, 12, 16, 20], key: 'diag1' }
                ];

                winConditions.forEach(condition => {
                    if (condition.combo.every(index => unlockedState[index]) && !shownRewards.has(condition.key)) {
                        const reward = rewards[condition.key];
                        showReward(reward.title, reward.message);
                        shownRewards.add(condition.key);
                        saveState();
                        regularWinShown = true;
                    }
                });
                
                // Check for MASTER REWARD
                const allUnlocked = unlockedState.every(state => state === true);
                if (allUnlocked && !shownRewards.has(masterRewardKey)) {
                    const reward = rewards[masterRewardKey];
                    setTimeout(() => {
                        showReward(reward.title, reward.message);
                        shownRewards.add(masterRewardKey);
                        saveState();
                    }, regularWinShown ? 1500 : 200);
                }
            }

            function showReward(title, message) {
                const rewardModal = document.getElementById('reward-modal');
                document.getElementById('reward-title').textContent = title;
                document.getElementById('reward-message').textContent = message;
                rewardModal.classList.add('show');
            }
            
            const confirmModal = document.getElementById('confirm-modal');
            
            document.getElementById('close-modal').addEventListener('click', () => {
                 document.getElementById('reward-modal').classList.remove('show');
            });

            document.getElementById('reset-button').addEventListener('click', () => {
                confirmModal.classList.add('show');
            });

            document.getElementById('confirm-no').addEventListener('click', () => {
                confirmModal.classList.remove('show');
            });

            document.getElementById('confirm-yes').addEventListener('click', () => {
                localStorage.removeItem('racoonGameState');
                location.reload();
            });


            // --- Initialisierung ---
            function initialize() {
                loadState(); 
                createBackgroundAnimation();
                createCardGrid();
            }

            function createBackgroundAnimation() {
                const bgContainer = document.getElementById('background-container');
                 // Leeren, falls die Funktion erneut aufgerufen wird
                bgContainer.innerHTML = '';
                const numElements = 50;
                for (let i = 0; i < numElements; i++) {
                    const el = document.createElement('div');
                    el.className = `floating-element feather`;
                    
                    if (Math.random() > 0.8) {
                        el.classList.add('fast');
                    }

                    el.style.left = `${Math.random() * 100}vw`;
                    el.style.top = `${Math.random() * 100}vh`;
                    const size = Math.random() * 50 + 40;
                    el.style.width = `${size}px`;
                    el.style.height = `${size}px`;
                    el.style.animationDuration = `${Math.random() * 25 + 20}s`;
                    el.style.animationDelay = `${Math.random() * 15}s`;
                    el.style.transform = `rotate(${Math.random() * 360}deg)`;
                    bgContainer.appendChild(el);
                }
            }

            function createCardGrid() {
                const cardGrid = document.getElementById('card-grid');
                 // Leeren, falls die Funktion erneut aufgerufen wird
                cardGrid.innerHTML = '';
                cardsData.forEach((data, index) => {
                    const cardElement = createCard(data, index);
                    cardGrid.appendChild(cardElement);
                    if(unlockedState[index]) {
                        const card = cardElement.querySelector('.card');
                        const backFace = card.querySelector('.card-face--back');
                        unlockCard(card, backFace, data.title);
                    }
                });
            }

            initialize();
        });
    </script>
</body>
</html>

